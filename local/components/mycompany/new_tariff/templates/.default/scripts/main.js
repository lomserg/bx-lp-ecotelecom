"use strict";var choiceEquipmentSlider=function(){if(document.querySelector(".js-choice-equipment-slider")){var e=document.querySelector(".js-choice-equipment-slider");new Swiper(e,{slidesPerView:"auto",spaceBetween:23,watchVisibleSlides:!0,watchSlidesProgress:!0,watchOverflow:!0,breakpoints:{1024:{spaceBetween:20}}})}},choiceEquipmentPrice=function(){if(document.querySelector(".js-choice-equipment-button")&&document.querySelector(".js-choice-equipment-price")){var e=document.querySelectorAll(".js-choice-equipment-button"),t=function(e){if(!e.currentTarget.classList.contains("active")){var t=e.currentTarget,n=e.currentTarget.offsetParent,c=t.parentElement.querySelectorAll(".js-choice-equipment-button"),r=n.querySelectorAll(".js-choice-equipment-price");c.forEach((function(e){return e.classList.remove("active")})),t.classList.add("active"),r.forEach((function(e){e.classList.remove("active"),e.dataset.name===t.dataset.name+"-price"?e.classList.add("active"):e.classList.remove("active")}))}};e.forEach((function(e){e.addEventListener("click",t)}))}},additionallySlider=function(){if(document.querySelector(".js-additionally-slider")){var e=document.querySelector(".js-additionally-slider");new Swiper(e,{slidesPerView:"auto",spaceBetween:23,watchVisibleSlides:!0,watchSlidesProgress:!0,watchOverflow:!0,navigation:{nextEl:".js-additionally-next-button",prevEl:".js-additionally-prev-button"},breakpoints:{1024:{spaceBetween:20}}})}},accordion=function(){if(document.querySelector(".js-accordion")||document.querySelector(".js-accordion-mobile")){var e=document.querySelectorAll(".js-accordion"),t=document.querySelectorAll(".js-accordion-mobile"),n=window.matchMedia("(max-width: 1024px)"),c=function(e,t){return Array.from(e).indexOf(t)},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.querySelectorAll(".js-accordion-trigger"),r=e.querySelectorAll(".js-accordion-item"),o=e.querySelector(".js-accordion-close-button")?e.querySelector(".js-accordion-close-button"):null,i=r[0].scrollHeight,s=function(e){for(var t=[i],o=0;o<n.length;o++){var s=n[o];e.currentTarget===s&&s.classList.toggle("show"),s.classList.contains("show")&&c(n,n[o])===c(r,r[o])?(r[o].classList.add("show"),0===o?r[o].style.height="".concat(i,"px"):(r[o].style.height="".concat(r[o].scrollHeight,"px"),t.push(r[o].scrollHeight))):(r[o].classList.remove("show"),r[o].style.height="0px")}n[0].classList.contains("show")?r[0].style.height="".concat(t.reduce((function(e,t){return+e+ +t})),"px"):(r[0].style.height="0px",a())},a=function(){n.forEach((function(e){return e.classList.remove("show")})),r.forEach((function(e){e.classList.remove("show"),e.style.height="0px"}))};t?location.reload():(o&&o.addEventListener("click",a),n.forEach((function(e){return e.addEventListener("click",s)})))};e.forEach((function(e){r(e)}));window.innerWidth<1024&&t.forEach((function(e){r(e)}));/*n.addEventListener("change",(function(e){e.matches?t.forEach((function(e){r(e)})):t.forEach((function(e){r(e,!0)}))}))*/}},selectItem=function(){if(document.querySelector(".js-select-item")){var e=document.querySelectorAll(".js-select-button"),t=function(e){var t,n,c=e.currentTarget.closest(".js-select-list"),r=e.currentTarget.closest(".js-select-item"),o=c.querySelectorAll(".js-select-item"),i=c.querySelectorAll(".js-select-button");"Добавлено"===e.currentTarget.textContent||"Добавить"===e.currentTarget.textContent?(t="Добавлено"===e.currentTarget.textContent?e.currentTarget.textContent="Добавить":e.currentTarget.textContent="Добавлено",n="Добавить"):"Выбрано"!==e.currentTarget.textContent&&"Выбрать"!==e.currentTarget.textContent||(t="Выбрано"===e.currentTarget.textContent?e.currentTarget.textContent="Выбрать":e.currentTarget.textContent="Выбрано",n="Выбрать"),r&&!r.classList.contains("active")?(o.forEach((function(e,t){e.classList.remove("active"),i[t].textContent=n})),r.classList.add("active"),e.currentTarget.textContent=t):o.forEach((function(e){return e.classList.remove("active")}))};e.forEach((function(e){return e.addEventListener("click",t)}))}},chooseTariffSlider=function(){if(document.querySelector(".js-choose-tariff-slider")){var e=function(){c.classList.contains("swiper-button-disabled")&&n.classList.contains("swiper-button-disabled")?(c.style.display="none",n.style.display="none"):(c.style.display="flex",n.style.display="flex")},t=document.querySelector(".js-choose-tariff-slider"),n=document.querySelector(".js-choose-tariff-next-button"),c=document.querySelector(".js-choose-tariff-prev-button");new Swiper(t,{slidesPerView:"auto",spaceBetween:30,watchVisibleSlides:!0,watchSlidesProgress:!0,watchOverflow:!0,pagination:{el:".js-choose-tariff-pagination",type:"fraction",currentClass:"choose-tariff_pagination-current",totalClass:"choose-tariff_pagination-total",renderFraction:function(e,t){return'<span class="'.concat(e,'"></span> / <span class="').concat(t,'"></span>')}},navigation:{nextEl:".js-choose-tariff-next-button",prevEl:".js-choose-tariff-prev-button"},on:{init:function(){setTimeout(e,0)},resize:function(){e()}}})}},tariffs=function(){if(document.querySelector(".js-choose-tariff-wrapper")){var e=document.querySelector(".js-choose-tariff-wrapper"),t=document.querySelector(".js-choose-tariff-buttons"),n=document.querySelector(".js-tariff-template").content.querySelectorAll(".js-choose-tariff-slider"),c=function(t){var n=document.createDocumentFragment(),c=function(e){return e.cloneNode(!0)}(t);n.append(c),e.append(n),setTimeout((function(){chooseTariffSlider()}),0)};c(n[0]),t.addEventListener("click",(function(e){var t=e.currentTarget.querySelectorAll("button");if("BUTTON"===e.target.tagName&&(e.target.classList.contains("active")||(t.forEach((function(e){return e.classList.remove("active")})),e.target.classList.add("active")),e.target.classList.contains("active"))){var r=document.querySelectorAll(".js-choose-tariff-slider");n.forEach((function(t){e.target.dataset.name===t.dataset.name?c(t):r.forEach((function(e){return e.remove()}))}))}}))}};document.addEventListener("DOMContentLoaded",(function(){choiceEquipmentSlider(),choiceEquipmentPrice(),additionallySlider(),accordion(),selectItem(),tariffs()}));